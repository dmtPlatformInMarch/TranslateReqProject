(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{527:function(e,t,r){var content=r(563);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(10).default)("7fa2a7e5",content,!0,{sourceMap:!1})},562:function(e,t,r){"use strict";r(527)},563:function(e,t,r){var n=r(9)(!1);n.push([e.i,".main[data-v-bcbe048c],.wrapper[data-v-bcbe048c]{display:flex}.wrapper[data-v-bcbe048c]{position:absolute;top:64px;overflow:auto;width:100%;height:calc(100% - 64px);flex-direction:column;align-items:center;justify-content:center}.action__box[data-v-bcbe048c]{width:100%;height:50%;border:1px solid grey}.section[data-v-bcbe048c]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;height:calc(100% - 48px)}.result__box[data-v-bcbe048c]{width:100%;height:50%;border:1px solid grey}.google__ex[data-v-bcbe048c]{display:flex;align-items:center;justify-content:center;width:50%;padding:25px}.google__ex__btn[data-v-bcbe048c]{margin:0 15px}",""]),e.exports=n},635:function(e,t,r){"use strict";r.r(t);var n=r(463),o=r(464),c=r(6),l=(r(43),r(118),{layout:"TestLayout",created:function(){},data:function(){return{testResult:"테스트 전",fps:0,stream:null,recordedChunks:[],mediaRecorder:{},recognition:{},recoging:!1,videoURL:"https://dmtlabs-files.s3.ap-northeast-2.amazonaws.com/videoes/360p_2%EB%B6%8416%EC%B4%88.mp4"}},mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.originalplayer.addEventListener("play",(function(t){e.recordStart()})),e.$refs.originalplayer.addEventListener("pause",(function(){e.recordStop()}));case 2:case"end":return t.stop()}}),t)})))()},methods:{recordStart:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.originalplayer.captureStream(e.fps);case 2:e.stream=t.sent,r=e.stream.getAudioTracks(),e.mediaRecorder=new MediaRecorder(new MediaStream(r),{mimeType:"audio/webm;codecs=opus",audioBitsPerSecond:"48000"}),e.mediaRecorder.ondataavailable=function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(r){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((null==r?void 0:r.data.size)>0)){t.next=10;break}return t.next=3,e.recordedChunks.push(r.data);case 3:return n=new Blob(e.recordedChunks,{type:"audio/webm"}),t.next=6,e.$store.dispatch("test/blobSending",n);case 6:o=t.sent,console.log("인식결과 : ",o),t.next=12;break;case 10:console.log("본 객체 : ",r),console.log("객체 데이터 : ",r.data);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.mediaRecorder.onstop=function(t){window.URL.revokeObjectURL(n);var r=new Blob(e.recordedChunks,{type:"audio/webm"}),n=window.URL.createObjectURL(r);e.$refs.resultplayer.src=n,e.$refs.resultplayer.load(),e.$refs.resultplayer.play()},console.log("Record Start"),e.mediaRecorder.start(500);case 9:case"end":return t.stop()}}),t)})))()},recordStop:function(){console.log("Record Stop"),this.mediaRecorder.stop()},googleTest:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("test/googleTest");case 3:r=t.sent,e.testResult=null!=r?"테스트 성공":"테스트 실패",t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},blobToServer:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Blob(e.recordedChunks,{type:"audio/webm"}),t.next=4,e.$store.dispatch("test/blobSending",r);case 4:n=t.sent,console.log("인식결과 : ",n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},computed:{}}),d=l,v=(r(562),r(18)),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("div",{staticClass:"action__box"},[r("h1",[e._v("Action Section")]),e._v(" "),r(o.a),e._v(" "),r("div",{staticClass:"section"},[r("video",{ref:"originalplayer",attrs:{src:e.videoURL,controls:"",preload:"auto",crossorigin:"anonymous"}}),e._v(" "),r("div",{staticClass:"google__ex"},[r(n.a,{staticClass:"google__ex__btn",attrs:{color:"primary"},on:{click:e.googleTest}},[e._v("\n                    구글 API 테스트\n                ")]),e._v(" "),r(n.a,{staticClass:"google__ex__btn",attrs:{color:"success"},on:{click:e.blobToServer}},[e._v("\n                    Blob을 백엔드로 보내기 테스트\n                ")])],1)])],1),e._v(" "),r("div",{staticClass:"result__box"},[r("h1",[e._v("Result Section")]),e._v(" "),r(o.a),e._v(" "),r("div",{staticClass:"section"},[r("audio",{ref:"resultplayer",attrs:{controls:""}}),e._v(" "),r("div",{staticClass:"google__ex"},[e._v("\n                "+e._s(e.testResult)+"\n            ")])])],1)])}),[],!1,null,"bcbe048c",null);t.default=component.exports}}]);