(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{509:function(t,e,n){var content=n(531);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(10).default)("55306d3e",content,!0,{sourceMap:!1})},530:function(t,e,n){"use strict";n(509)},531:function(t,e,n){var r=n(9)(!1);r.push([t.i,".track__wrapper[data-v-4733c45b]{height:128px;display:flex;border:1px solid grey;margin:5px;padding:0 10px;flex-basis:4rem;justify-content:center}.track__time[data-v-4733c45b]{display:flex;align-items:center;justify-content:space-around;padding:5px;width:25%}.input__time[data-v-4733c45b]{width:80%;flex:0 0 auto!important}.input__time[data-v-4733c45b] input{text-align:center}.edit__time[data-v-4733c45b]{width:10%;display:flex;align-items:center;justify-content:center}.track__text[data-v-4733c45b],.track__trans__text[data-v-4733c45b]{display:flex;align-items:center;justify-content:space-around;padding:5px;width:35%}",""]),t.exports=r},536:function(t,e,n){"use strict";var r=n(466),o=n(189),c=n(463),d=n(521),l=(n(18),n(59),{props:{idx:{type:Number,require:!0},start:{type:String,default:"00:00:00.000"},end:{type:String,default:"00:00:00.000"},text:{type:String,default:""},trans:{type:String,default:""}},data:function(){return{editTime:!0,timeRule:[function(t){return/(((\d\d:\d\d)|(\d\d)):\d\d.\d\d\d) --> (((\d\d:\d\d)|(\d\d)):\d\d.\d\d\d)/.test(t)||"형식이 맞지 않습니다."}]}},computed:{segmentText:function(){return this.text.split("\\n")},segmentTrans:function(){return this.trans.split("\\n")}},methods:{msToString:function(time){if(0===time)return"00:00:00.000";var t=time/36e5>=1?parseInt(time/36e5):0,e=time/6e4>=1?time/6e4>=60?parseInt(time/6e4)-60>=1?parseInt(time/6e4)-60:0:parseInt(time/6e4):0,n=time%6e4>=1?parseInt(time%6e4/1e3)>=1?parseInt(time%6e4/1e3):0:parseInt(time/1e3)>=1?parseInt(time/1e3):0,r=time%1e3,o=t/10>=1?t:"0".concat(t),c=e/10>=1?e:"0".concat(e),d=n/10>=1?n:"0".concat(n),l=r/100>=1?r:r/10>=1?"0".concat(r):"00".concat(r);return"".concat(o,":").concat(c,":").concat(d,".").concat(l)},changeTime:function(t){this.$nuxt.$emit("timeChange",t,this.idx)},changeText:function(t){this.$nuxt.$emit("textChange",t,this.idx)},changeTrans:function(t){this.$nuxt.$emit("transChange",t,this.idx)},timeEdit:function(){this.editTime=!this.editTime,this.editTime||this.$refs.inputTime.focus()}}}),_=(n(530),n(16)),component=Object(_.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"track__wrapper"},[n("div",{staticClass:"track__time"},[n(c.a,{ref:"inputTime",staticClass:"input__time",attrs:{value:t.start+" --\x3e "+t.end,outlined:"",dense:"","hide-details":"auto",readonly:t.editTime,rules:t.timeRule},on:{input:function(e){return t.changeTime(e)}}}),t._v(" "),n("div",{staticClass:"edit__time"},[n(r.a,{attrs:{icon:""},on:{click:t.timeEdit}},[n(o.a,[t._v("\n                    mdi-timer-edit\n                ")])],1)],1)],1),t._v(" "),n("div",{staticClass:"track__text"},[n(d.a,{attrs:{value:t.segmentText,outlined:"",dense:"",rows:"3","row-height":"20","hide-details":""},on:{input:function(e){return t.changeText(e)}}})],1),t._v(" "),n("div",{staticClass:"track__trans__text"},[n(d.a,{attrs:{value:t.segmentTrans,outlined:"",dense:"",rows:"3","row-height":"20","hide-details":""},on:{input:function(e){return t.changeTrans(e)}}})],1)])}),[],!1,null,"4733c45b",null);e.a=component.exports},558:function(t,e,n){var content=n(638);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(10).default)("449446ea",content,!0,{sourceMap:!1})},637:function(t,e,n){"use strict";n(558)},638:function(t,e,n){var r=n(9)(!1);r.push([t.i,".wrapper[data-v-d205206c]{width:100%;height:100%}.video__box[data-v-d205206c]{position:absolute;left:0;width:25%;height:100%;border-right:1px solid #8c867a}.video__player[data-v-d205206c]{display:flex;align-items:center;justify-content:center;width:100%;height:35%;background:#000}.player[data-v-d205206c]{width:100%;height:100%}.video__action[data-v-d205206c]{display:flex;align-items:center;justify-content:space-around;width:100%;height:5%}.video__action__btn[data-v-d205206c]{width:45%}.video__list[data-v-d205206c]{width:100%;height:60%}.video__list[data-v-d205206c],.video__list__group[data-v-d205206c]{position:absolute;bottom:0}.video__list__content[data-v-d205206c]{height:50vh}.list__content__disabled[data-v-d205206c]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;text-align:center}.content__list__title[data-v-d205206c]{display:flex;align-items:center;justify-content:flex-start}.content__list__btn[data-v-d205206c]{flex:1 1 0;justify-content:flex-start!important}.content__list__btn[data-v-d205206c] span{width:100%;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.track__box[data-v-d205206c]{display:flex;position:absolute;left:25%;align-items:center;justify-content:center;width:75%;height:100%}.track__box__scroll[data-v-d205206c]{display:flex;flex-direction:column}.track__box__scroll[data-v-d205206c]::-webkit-scrollbar{display:block;width:10px;height:8px}.track__box__scroll[data-v-d205206c]::-webkit-scrollbar-track{background-color:transparent}.track__box__scroll[data-v-d205206c]::-webkit-scrollbar-thumb{border-radius:5px;background:#2172ff}.track__box__wrapper[data-v-d205206c]{width:95%;align-items:center;justify-content:center}.track__box[data-v-d205206c] .v-virtual-scroll__item{display:flex;align-items:center;justify-content:center}.dialog__card[data-v-d205206c]{width:75vw}.dialog__box[data-v-d205206c]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;height:50vh;padding:25px}.dialog__box__setting[data-v-d205206c]{display:flex;width:100%;height:90%}.setting__select__box[data-v-d205206c]{justify-content:space-around}.dialog__box__process[data-v-d205206c],.setting__select__box[data-v-d205206c]{display:flex;flex-direction:column;align-items:center;width:50%;height:100%}.dialog__box__process[data-v-d205206c]{justify-content:center}.dialog__box__loading[data-v-d205206c]{display:flex;align-items:center;justify-content:center;width:100%;height:10%}.select__box[data-v-d205206c]{height:90%}.action__box[data-v-d205206c],.select__box[data-v-d205206c]{display:flex;justify-content:space-around;width:100%;padding:25px}.action__box[data-v-d205206c]{align-items:center;height:10%}.list__wrapper[data-v-d205206c]{width:100%;height:80%}.header__class[data-v-d205206c]{border-bottom:3px solid green}.list__select[data-v-d205206c]{border:solid #013183!important;color:#013183!important}.process__stepper[data-v-d205206c]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.stepper[data-v-d205206c]{width:50%;padding:5%}.stepper__btn[data-v-d205206c]{border:3px solid #013183}.arrow__wrapper[data-v-d205206c]{display:flex;width:100%;height:100%;flex-direction:column;align-items:center;justify-content:center}.arrow[data-v-d205206c]{color:#2172ff;-webkit-animation:arrowAnimation-data-v-d205206c 1.5s ease infinite;animation:arrowAnimation-data-v-d205206c 1.5s ease infinite;-webkit-animation-fill-mode:both;animation-fill-mode:both}.arrow[data-v-d205206c]:first-child{-webkit-animation-delay:.75s;animation-delay:.75s}.arrow[data-v-d205206c]:nth-child(2){-webkit-animation-delay:1s;animation-delay:1s}.arrow[data-v-d205206c]:nth-child(3){-webkit-animation-delay:1.25s;animation-delay:1.25s}@-webkit-keyframes arrowAnimation-data-v-d205206c{0%{color:#fff}to{color:#2172ff}}@keyframes arrowAnimation-data-v-d205206c{0%{color:#fff}to{color:#2172ff}}",""]),t.exports=r},668:function(t,e,n){"use strict";n.r(e);var r=n(466),o=n(192),c=n(479),d=n(585),l=n(587),_=n(586),v=n(584),f=n(189),h=n(158),m=n(188),x=n(119),w=n(191),k=n(3),y=n(193),C=n(49),T=n(58),j=n(628),$=(n(12),n(8),n(11),n(13),n(14),n(6)),O=n(1),S=(n(23),n(44),n(536)),L=n(118),R=n.n(L);function E(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(e){Object(O.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M={layout:"ServiceLayout",components:{TrackComponent:S.a},created:function(){var t=this;!0===this.readyToTrack&&"undefined"!=typeof window&&window.addEventListener("resize",(function(){t.virtualHeight=t.$refs.trackBox.offsetHeight})),this.$nuxt.$on("onScrollTop",(function(){t.$refs.trackscroll.$el.scrollBy({top:-t.$refs.trackscroll.scrollTop,behavior:"smooth"})}))},data:function(){var t;return t={url:"https://dmtlabs-files.s3.ap-northeast-2.amazonaws.com/videoes/360p_20%EB%B6%8448%EC%B4%88.mp4",virtualHeight:0,readToVideo:!1,readyToTrack:!1,dialog:!1,file:{},fullTrack:[],timeLine:[],originalTrack:[],transTrack:[],track:"",transtrack:"",loading:0},Object(O.a)(t,"dialog",!1),Object(O.a)(t,"beforeSelect",!0),Object(O.a)(t,"req",0),Object(O.a)(t,"grant",2),Object(O.a)(t,"step",1),t},mounted:function(){this.$store.dispatch("videoes/getFiles"),this.virtualHeight=this.$refs.trackBox.offsetHeight},computed:{videoList:function(){return this.$store.state.videoes.files},videoURL:function(){return this.$store.state.videoes.fileURL},languages:function(){return this.$LANGUAGES_KO},req_lang:function(){return this.languages[this.req]},grant_lang:function(){return this.languages[this.grant]}},watch:{},methods:{uploadVideo:function(){this.$refs.upload.click()},extToContentType:function(t){switch(t){case"mp4":return"video/mp4";case"webm":return"video/webm";case"ogg":case"ogv":case"ogm":return"video/ogg";default:return"application/oct-stream"}},loadingLogic:function(t){switch(t){case 1:case 2:case 3:break;default:this.loading=33*this.step,this.step++}},sliceName:function(t){return t.substring(t.lastIndexOf("/")+1)},trackMerge:function(){for(var t=[],i=0;i<Math.max(this.timeLine.length,this.originalTrack.length);i++)t[i]=I(I({},this.timeLine[i]),{text:this.originalTrack[i]});this.fullTrack=t},onChange:function(t){var e=this;return Object($.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{null!=t&&0!=t.target.files.length?(e.file=t.target.files[0],e.dialog=!0):console.log("e is null")}catch(t){console.log(t)}case 1:case"end":return n.stop()}}),n)})))()},onTaskStart:function(){var t=this;return Object($.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.originalTrack="",t.transTrack="",n=t.file.name,r=new FormData,o=n.substring(0,n.lastIndexOf(".")),c=n.substring(n.lastIndexOf(".")+1),t.$store.commit("videoes/setFileName",o),t.$store.commit("videoes/setFileExt",c),r.append("fileKey",t.file),e.prev=9,e.next=12,t.$store.dispatch("videoes/signedURL",r);case 12:return d=e.sent,e.next=15,R.a.put(d,t.file,{headers:{"Content-Type":t.extToContentType(c)},onUploadProgress:function(t){var e=100*t.loaded/t.total;Math.round(e);console.log(t.loaded+" / "+t.total,e)}});case 15:l=e.sent,t.readToVideo=!0,200===l.status?t.$store.dispatch("videoes/setURL").then(Object($.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("Recognition Time"),t.$nuxt.$loading.start(),e.next=4,t.$store.dispatch("videoes/postVideo");case 4:n=e.sent,t.$nuxt.$loading.finish(),console.timeEnd("Recognition Time"),t.track=n.track,t.originalTrack=n.segment,t.timeLine=n.timeline,console.log("Merge"),t.trackMerge(),t.$store.dispatch("videoes/getFiles"),t.readyToTrack=!0;case 14:case"end":return e.stop()}}),e)})))):t.$menage.showMessage({message:"영상 업로드에 실패했습니다.\n관리자에게 문의하세요.",color:"error"}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),t.$nuxt.$loading.finish(),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[9,20]])})))()},newVideo:function(){this.readToVideo=!1,this.readyToTrack=!1,this.timeLine=[],this.originalTrack=[],this.transTrack=[],this.track="",this.transtrack="",this.$refs.upload.click()}}},P=(n(637),n(16)),component=Object(P.a)(M,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"video__box"},[n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload",attrs:{type:"file"},on:{change:t.onChange}}),t._v(" "),!0===t.readToVideo?n("div",{staticClass:"video__player"},[n("video",{staticClass:"player",attrs:{src:t.videoURL,controls:"",preload:"auto"}})]):n("div",{staticClass:"video__player"},[n(c.a,{attrs:{width:"60vw"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.attrs;return[n(r.a,t._b({attrs:{rounded:""},on:{click:t.uploadVideo}},"v-btn",o,!1),[n(f.a,[t._v("\n                            mdi-plus\n                        ")]),t._v("\n                        새로 만들기\n                    ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n(o.a,[n("div",{staticClass:"dialog__box"},[n("div",{staticClass:"dialog__box__setting"},[n("div",{staticClass:"setting__select__box"},[n(h.a,{staticClass:"img",attrs:{src:"https://dmtlabs-files.s3.ap-northeast-2.amazonaws.com/images/logo.png"}})],1),t._v(" "),t.beforeSelect?n("div",{staticClass:"setting__select__box"},[n("div",{staticClass:"select__box"},[n("div",[n(C.a,{staticClass:"header__class",attrs:{elevation:"0"}},[n(T.b,{staticClass:"font-weight-bold"},[t._v("\n                                                영상의 원본 언어\n                                            ")])],1),t._v(" "),n("div",{staticClass:"overflow-y-auto list__wrapper"},[n(m.a,[n(w.a,{attrs:{mandatory:""},model:{value:t.req,callback:function(e){t.req=e},expression:"req"}},t._l(t.languages,(function(e,r){return n(x.a,{key:r,attrs:{"active-class":"list__select"}},[n(k.c,[t._v("\n                                                            "+t._s(e)+"\n                                                        ")])],1)})),1)],1)],1)],1),t._v(" "),n(f.a,[t._v("\n                                        mdi-arrow-right\n                                    ")]),t._v(" "),n("div",[n(C.a,{staticClass:"header__class",attrs:{elevation:"0"}},[n(T.b,{staticClass:"font-weight-bold"},[t._v("\n                                                번역하고 싶은 언어\n                                            ")])],1),t._v(" "),n("div",{staticClass:"overflow-y-auto list__wrapper"},[n(m.a,[n(w.a,{attrs:{mandatory:""},model:{value:t.grant,callback:function(e){t.grant=e},expression:"grant"}},t._l(t.languages,(function(e,r){return n(x.a,{key:r,attrs:{"active-class":"list__select"}},[n(k.c,[t._v("\n                                                            "+t._s(e)+"\n                                                        ")])],1)})),1)],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"action__box"},[n(r.a,{attrs:{block:"",rounded:"",color:"#013183",dark:""},on:{click:t.onTaskStart}},[t._v("\n                                        번역하기\n                                    ")])],1)]):n("div",{staticClass:"dialog__box__process"},[n("div",{staticClass:"process__stepper"},[n("div",{staticClass:"stepper"},[n(r.a,{staticClass:"stepper__btn",attrs:{block:"",rounded:"",color:"primary",disabled:1!=t.step},on:{click:function(e){t.step=2}}},[t._v("\n                                            영상 업로드\n                                        ")])],1),t._v(" "),1===t.step?n("transition",[n("div",{staticClass:"arrow__wrapper"},[n("div",{staticClass:"arrow"},[t._v("▼")]),t._v(" "),n("div",{staticClass:"arrow"},[t._v("▼")]),t._v(" "),n("div",{staticClass:"arrow"},[t._v("▼")])])]):n("div",{staticClass:"arrow__wrapper"},[n("div",[t._v("▼")]),t._v(" "),n("div",[t._v("▼")]),t._v(" "),n("div",[t._v("▼")])]),t._v(" "),n("div",{staticClass:"stepper",attrs:{div:""}},[n(r.a,{staticClass:"stepper__btn",attrs:{block:"",rounded:"",color:"warning",disabled:2!=t.step},on:{click:function(e){t.step=3}}},[t._v("\n                                            영상 인식\n                                        ")])],1),t._v(" "),2===t.step?n("transition",[n("div",{staticClass:"arrow__wrapper"},[n("div",{staticClass:"arrow"},[t._v("▼")]),t._v(" "),n("div",{staticClass:"arrow"},[t._v("▼")]),t._v(" "),n("div",{staticClass:"arrow"},[t._v("▼")])])]):n("div",{staticClass:"arrow__wrapper"},[n("div",[t._v("▼")]),t._v(" "),n("div",[t._v("▼")]),t._v(" "),n("div",[t._v("▼")])]),t._v(" "),n("div",{staticClass:"stepper",attrs:{div:""}},[n(r.a,{staticClass:"stepper__btn",attrs:{block:"",rounded:"",color:"success",disabled:3!=t.step},on:{click:function(e){t.step=1}}},[t._v("\n                                            자막 번역\n                                        ")])],1)],1)])]),t._v(" "),n("div",{staticClass:"dialog__box__loading"},[n(y.a,{attrs:{color:"#013183",height:"25px"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.value;return[n("strong",[t._v(t._s(Math.ceil(r))+"%")])]}}]),model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)])])],1)],1),t._v(" "),n("div",{staticClass:"video__action"},[n(r.a,{staticClass:"video__action__btn",attrs:{rounded:"",color:"#013183",dark:""},on:{click:t.newVideo}},[t._v("\n                새 영상\n            ")]),t._v(" "),n(r.a,{staticClass:"video__action__btn",attrs:{rounded:"",color:"#013183",dark:""},on:{click:function(e){t.readyToTrack=!t.readyToTrack}}},[t._v("\n                다운로드\n            ")])],1),t._v(" "),n("div",{staticClass:"video__list"},[n(v.a,{staticClass:"video__list__group",attrs:{tile:"",dark:""}},[n(d.a,[n(_.a,{attrs:{color:"#013183"}},[t._v("\n                        파일 목록\n                    ")]),t._v(" "),n(l.a,{staticClass:"video__list__content"},[n("div",{staticClass:"list__content__disabled"},[t._v("\n                            로그인 후"),n("br"),t._v(" 이용가능 합니다.\n                        ")])])],1)],1)],1)]),t._v(" "),n("div",{ref:"trackBox",staticClass:"track__box"},[t.readyToTrack?n(j.a,{ref:"trackscroll",staticClass:"track__box__scroll",attrs:{bench:"15",items:t.fullTrack,height:t.virtualHeight,"item-height":"156"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item,o=e.index;return[n("div",{staticClass:"track__box__wrapper"},[n("track-component",{attrs:{start:r.start,end:r.end,text:r.text,trans:t.transTrack[o],idx:o}})],1)]}}],null,!1,3315004982)}):n("div",[t._v("\n            영상을 추가하면 자막을 편집하실 수 있습니다. "),n("br")])],1)])}),[],!1,null,"d205206c",null);e.default=component.exports}}]);