(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{554:function(t,e,o){var content=o(639);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("42ebfa5d",content,!0,{sourceMap:!1})},638:function(t,e,o){"use strict";o(554)},639:function(t,e,o){var r=o(9)(!1);r.push([t.i,'.wrapper[data-v-1b6e115f]{width:100%;height:100%}.video__box[data-v-1b6e115f]{position:absolute;background:#000;width:50%;height:100%}.video__wrapper[data-v-1b6e115f]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.video__player[data-v-1b6e115f]{width:100%}.setting__box[data-v-1b6e115f]{position:absolute;background:#8c867a;left:50%;width:50%;height:100%}.track__box[data-v-1b6e115f]{overflow-y:auto;position:absolute;background:#fff;border-radius:25px;margin:15px;padding:25px;width:calc(100% - 30px);height:calc(75% - 30px);font-family:"MinSans-Medium",sans-serif!important}.track__box[data-v-1b6e115f]::-webkit-scrollbar{display:block;width:10px;height:8px}.track__box[data-v-1b6e115f]::-webkit-scrollbar-thumb{border-radius:5px;background:#2172ff}.track__box[data-v-1b6e115f]::-webkit-scrollbar-track{background-color:transparent;margin:15px 0}.setting__box__bottom[data-v-1b6e115f]{position:absolute;top:75%;width:100%;height:25%}.control__box[data-v-1b6e115f]{width:25%}.control__box[data-v-1b6e115f],.filelist__box[data-v-1b6e115f]{position:absolute;height:100%}.filelist__box[data-v-1b6e115f]{left:25%;width:75%}',""]),t.exports=r},670:function(t,e,o){"use strict";o.r(e);var r=o(472),n=o(192),c=o(485),l=o(189),d=o(158),_=o(188),v=o(119),f=o(191),h=o(3),k=o(193),m=o(49),x=o(58),w=o(6),C=(o(44),o(23),{layout:"ServiceLayout",data:function(){return{dialog:!1,readToVideo:!1,loading:0,step:1,selectVideo:!1,beforeSelect:!0,videoURL:"https://dmtlabs-files.s3.ap-northeast-2.amazonaws.com/videoes/360p_2%EB%B6%8416%EC%B4%88.mp4",track:"예시 텍스트<br />이것이 예시 테스트다",req:0,grant:2}},computed:{language:function(){return this.$store.state.manager.language},languages:function(){return this.$LANGUAGES_KO},videoList:function(){return this.$store.state.videoes.files},req_lang:function(){return this.languages[this.req]},grant_lang:function(){return this.languages[this.grant]},req_code:function(){return this.$LANG_CODE[this.req]},grant_code:function(){return this.$LANG_CODE[this.grant]},trackMode:function(){switch(this.fileTab){case 1:return"srt";case 2:return"vtt";default:return"NotFoundMode"}}},methods:{onChange:function(){},uploadVideo:function(){},onTaskStart:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var o,r,n,c,l,d,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.beforeSelect=!1,t.originalTrack="",t.transTrack="",t.selectVideo){e.next=57;break}return o=t.file.name,r=new FormData,n=o.substring(0,o.lastIndexOf(".")),c=o.substring(o.lastIndexOf(".")+1),t.$store.commit("videoes/setFileName",n),t.$store.commit("videoes/setFileExt",c),r.append("fileKey",t.file),e.prev=11,t.loadingLogic(1),e.next=15,t.$store.dispatch("videoes/signedURL",r);case 15:return l=e.sent,t.preSignedUrlResponse=!0,t.loadingLogic(2),e.next=20,axios.put(l,t.file,{headers:{"Content-Type":t.extToContentType(c)},onUploadProgress:function(t){var e=100*t.loaded/t.total;Math.round(e)}});case 20:if(200!==e.sent.status){e.next=49;break}return t.loadingLogic(3),t.uploadResponse=!0,e.next=26,t.$store.commit("videoes/setFile",void 0);case 26:return e.next=28,t.$store.dispatch("videoes/setURL");case 28:return e.next=30,t.$store.dispatch("videoes/postVideo");case 30:return d=e.sent,t.trackCompleteResponse=!0,t.track=d.track,t.originalTrack=d.segment,t.timeLine=d.timeline,t.trackMerge(),t.$store.dispatch("videoes/getFiles"),t.loadingLogic(4),e.next=40,t.$store.dispatch("videoes/transTrack",{from:t.req_code,to:t.grant_code,track:t.fullTrack});case 40:t.transTrack=e.sent,t.trackFormating("vtt",t.transTrack),t.readToVideo=!0,t.readyToTrack=!0,t.trackOn(t.req_lang),t.selectFilename=t.$store.state.videoes.fileName,t.dialog=!1,e.next=50;break;case 49:t.$menage.showMessage({message:"영상 업로드에 실패했습니다.\n관리자에게 문의하세요.",color:"error"});case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(11),console.log(e.t0);case 55:e.next=85;break;case 57:return e.prev=57,t.loading=33,t.loadingLogic(3),t.uploadResponse=!0,e.next=63,t.$store.dispatch("videoes/setURL");case 63:return e.next=65,t.$store.dispatch("videoes/postVideo");case 65:return _=e.sent,t.trackCompleteResponse=!0,t.track=_.track,t.originalTrack=_.segment,t.timeLine=_.timeline,t.trackMerge(),t.loadingLogic(4),e.next=74,t.$store.dispatch("videoes/transTrack",{from:t.req_code,to:t.grant_code,track:t.fullTrack});case 74:t.transTrack=e.sent,t.readToVideo=!0,t.readyToTrack=!0,t.trackOn(t.req_lang),t.dialog=!1,t.selectVideo=!1,e.next=85;break;case 82:e.prev=82,e.t1=e.catch(57),console.log(e.t1);case 85:case"end":return e.stop()}}),e,null,[[11,52],[57,82]])})))()},newVideo:function(){this.newVideoDialog=!1,this.readToVideo=!1,this.readyToTrack=!1,this.file={},this.fullTrack=[],this.timeLine=[],this.originalTrack=[],this.transTrack=[],this.track="",this.trans="",this.loading=0,this.dialog=!1,this.beforeSelect=!0,this.step=1,this.preSignedUrlResponse=!1,this.uploadResponse=!1,this.trackCompleteResponse=!1}}}),T=(o(638),o(16)),component=Object(T.a)(C,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("div",{staticClass:"video__box"},[o("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload",attrs:{type:"file",accept:".mp4"},on:{change:t.onChange}}),t._v(" "),!0===t.readToVideo?o("div",{staticClass:"video__wrapper"},[o("video",{ref:"videoplayer",staticClass:"video__player",attrs:{src:t.videoURL,controls:"",preload:"auto",crossorigin:"anonymous"}})]):o("div",{staticClass:"video__wrapper"},[o(c.a,{attrs:{width:"60vw",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.attrs;return[o(r.a,t._b({attrs:{rounded:""},on:{click:t.uploadVideo}},"v-btn",n,!1),[o(l.a,[t._v("\n                            mdi-plus\n                        ")]),t._v("\n                        새로 만들기\n                    ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),o(n.a,[o("div",{staticClass:"dialog__box"},[o("div",{staticClass:"dialog__box__setting"},[o("div",{staticClass:"setting__select__box",on:{click:function(e){t.dialog=!t.dialog}}},[o(d.a,{staticClass:"img",attrs:{src:"https://dmtlabs-files.s3.ap-northeast-2.amazonaws.com/images/logo.png"}})],1),t._v(" "),t.beforeSelect?o("div",{staticClass:"setting__select__box"},[o("div",{staticClass:"select__box"},[o("div",[o(m.a,{staticClass:"header__class",attrs:{elevation:"0"}},[o(x.b,{staticClass:"font-weight-bold"},[t._v("\n                                                영상의 원본 언어\n                                            ")])],1),t._v(" "),o("div",{staticClass:"overflow-y-auto list__wrapper"},[o(_.a,[o(f.a,{attrs:{mandatory:""},model:{value:t.req,callback:function(e){t.req=e},expression:"req"}},t._l(t.languages,(function(e,r){return o(v.a,{key:r,attrs:{"active-class":"list__select"}},[o(h.c,[t._v("\n                                                            "+t._s(e)+"\n                                                        ")])],1)})),1)],1)],1)],1),t._v(" "),o(l.a,[t._v("\n                                        mdi-arrow-right\n                                    ")]),t._v(" "),o("div",[o(m.a,{staticClass:"header__class",attrs:{elevation:"0"}},[o(x.b,{staticClass:"font-weight-bold"},[t._v("\n                                                번역하고 싶은 언어\n                                            ")])],1),t._v(" "),o("div",{staticClass:"overflow-y-auto list__wrapper"},[o(_.a,[o(f.a,{attrs:{mandatory:""},model:{value:t.grant,callback:function(e){t.grant=e},expression:"grant"}},t._l(t.languages,(function(e,r){return o(v.a,{key:r,attrs:{"active-class":"list__select"}},[o(h.c,[t._v("\n                                                            "+t._s(e)+"\n                                                        ")])],1)})),1)],1)],1)],1)],1),t._v(" "),o("div",{staticClass:"action__box"},[o(r.a,{attrs:{block:"",rounded:"",color:"#013183",dark:""},on:{click:t.onTaskStart}},[t._v("\n                                        번역하기\n                                    ")])],1)]):o("div",{staticClass:"dialog__box__process"},[o("div",{staticClass:"process__stepper"},[o("div",{staticClass:"stepper"},[o(r.a,{staticClass:"stepper__btn",attrs:{block:"",rounded:"",color:"primary",disabled:1!=t.step}},[t._v("\n                                            영상 업로드\n                                        ")])],1),t._v(" "),1===t.step?o("transition",[o("div",{staticClass:"arrow__wrapper"},[o("div",{staticClass:"arrow"},[t._v("▼")]),t._v(" "),o("div",{staticClass:"arrow"},[t._v("▼")]),t._v(" "),o("div",{staticClass:"arrow"},[t._v("▼")])])]):o("div",{staticClass:"arrow__wrapper"},[o("div",[t._v("▼")]),t._v(" "),o("div",[t._v("▼")]),t._v(" "),o("div",[t._v("▼")])]),t._v(" "),o("div",{staticClass:"stepper",attrs:{div:""}},[o(r.a,{staticClass:"stepper__btn",attrs:{block:"",rounded:"",color:"warning",disabled:2!=t.step}},[t._v("\n                                            영상 인식\n                                        ")])],1),t._v(" "),2===t.step?o("transition",[o("div",{staticClass:"arrow__wrapper"},[o("div",{staticClass:"arrow"},[t._v("▼")]),t._v(" "),o("div",{staticClass:"arrow"},[t._v("▼")]),t._v(" "),o("div",{staticClass:"arrow"},[t._v("▼")])])]):o("div",{staticClass:"arrow__wrapper"},[o("div",[t._v("▼")]),t._v(" "),o("div",[t._v("▼")]),t._v(" "),o("div",[t._v("▼")])]),t._v(" "),o("div",{staticClass:"stepper",attrs:{div:""}},[o(r.a,{staticClass:"stepper__btn",attrs:{block:"",rounded:"",color:"success",disabled:3!=t.step}},[t._v("\n                                            자막 번역\n                                        ")])],1)],1)])]),t._v(" "),o("div",{staticClass:"dialog__box__loading"},[o(k.a,{attrs:{color:"#013183",height:"25px"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.value;return[o("strong",{staticStyle:{color:"white"}},[t._v(t._s(Math.ceil(r))+"%")])]}}]),model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)])])],1)],1)]),t._v(" "),o("div",{staticClass:"setting__box"},[o("div",{staticClass:"track__box",domProps:{innerHTML:t._s(t.track)}}),t._v(" "),t._m(0)])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"setting__box__bottom"},[o("div",{staticClass:"control__box"}),t._v(" "),o("div",{staticClass:"filelist__box"})])}],!1,null,"1b6e115f",null);e.default=component.exports}}]);