(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{495:function(e,t,o){var content=o(503);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("706a0d76",content,!0,{sourceMap:!1})},502:function(e,t,o){"use strict";o(495)},503:function(e,t,o){var r=o(9)(!1);r.push([e.i,".video__box[data-v-066f6fd4]{max-width:920px}.video__player[data-v-066f6fd4]{width:100%}",""]),e.exports=r},505:function(e,t,o){"use strict";var r={props:{url:{type:String,default:""}},data:function(){return{video:"",tracks:[]}},computed:{temp:function(){return"https://dmtlabs-files.s3.ap-northeast-2.amazonaws.com/tracks/".concat(encodeURI(this.$store.state.videoes.fileName),".vtt")}},mounted:function(){this.video=document.querySelector("video"),this.tracks=this.video.textTracks},methods:{}},n=(o(502),o(18)),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"video__box"},[o("video",{staticClass:"video__player",attrs:{controls:"",preload:"auto",src:e.url,crossorigin:"use-credentials"}},[o("track",{attrs:{kind:"subtitles",src:e.temp,srclang:"en",label:"영어",default:""}})])])}),[],!1,null,"066f6fd4",null);t.a=component.exports},525:function(e,t,o){var content=o(596);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("b397c724",content,!0,{sourceMap:!1})},595:function(e,t,o){"use strict";o(525)},596:function(e,t,o){var r=o(9)(!1);r.push([e.i,".video__box[data-v-0590737a]{overflow:scroll;height:calc(100% - 12px)}.video__box[data-v-0590737a]::-webkit-scrollbar{display:block;width:10px;height:8px}.video__box[data-v-0590737a]::-webkit-scrollbar-track{background-color:transparent}.video__box[data-v-0590737a]::-webkit-scrollbar-thumb{border-radius:5px;background:#2172ff}.video__player[data-v-0590737a]{width:auto;height:50%;min-height:500px;border:1px solid red}.video__player__grid[data-v-0590737a]{height:100%;min-height:500px}.video__player__box[data-v-0590737a],.video__player__meta[data-v-0590737a]{display:flex;align-items:center;justify-content:center;margin:25px 15px}.video__player__meta[data-v-0590737a],.video__translator[data-v-0590737a]{flex-direction:column}.video__translator[data-v-0590737a]{display:flex;min-height:calc(50% - 128px);border:1px solid red}.video__translator__title[data-v-0590737a]{display:flex;align-items:center;margin:15px;padding:0 15px}.video__translator__content[data-v-0590737a]{min-height:30vh;display:flex;flex-direction:column;margin:0 15px 15px;border:1px solid red;white-space:pre-wrap}.video__uploadFile[data-v-0590737a]{width:100%;padding:0 50px}.video[data-v-0590737a]{padding:25px}",""]),e.exports=r},626:function(e,t,o){"use strict";o.r(t);var r=o(460),n=o(488),d=o(512),l=o(188),c=o(487),v=o(469),_=o(6),f=(o(23),o(44),{layout:"RTtrackLayout",components:{VideoComponent:o(505).a},data:function(){return{readToVideo:!1,track:""}},created:function(){var e=this;this.$nuxt.$on("onTrackVideoEvent",function(){var t=Object(_.a)(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.commit("videoes/setFileURL","https://dmtlabs-files.s3.ap-northeast-2.amazonaws.com/videoes/".concat(encodeURI(o))),e.$nuxt.$loading.start(),t.next=4,e.$store.dispatch("videoes/postVideo");case 4:e.track=t.sent,e.$nuxt.$loading.finish(),e.readToVideo=!0;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.$nuxt.$on("onScrollTop",(function(){e.$refs.rtvideobox.scrollBy({top:-e.$refs.rtvideobox.scrollTop,behavior:"smooth"})}))},computed:{language:function(){return this.$store.state.manager.language},fileURL:function(){return this.$store.state.videoes.fileURL}},methods:{extToContentType:function(e){switch(e){case"mp4":return"video/mp4";case"webm":return"video/webm";case"ogg":case"ogv":case"ogm":return"video/ogg";default:return"application/oct-stream"}},onChange:function(e){var t=this;return Object(_.a)(regeneratorRuntime.mark((function o(){var r,n,d,l,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r=new FormData,null==e){o.next=30;break}return o.prev=2,n=e.name.substring(e.name.lastIndexOf(".")+1),d=e.name.substring(0,e.name.lastIndexOf(".")),t.$store.commit("videoes/setFileName",d),t.$store.commit("videoes/setFileExt",n),r.append("fileKey",e),o.next=10,t.$store.dispatch("videoes/signedURL",r);case 10:return l=o.sent,t.$nuxt.$loading.start(),o.next=14,fetch(new Request(l,{method:"PUT",headers:{"Content-Type":t.extToContentType(n)},body:e}));case 14:if(c=o.sent,t.$nuxt.$loading.finish(),200!==c.status){o.next=21;break}t.$store.dispatch("videoes/setURL").then(Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$nuxt.$loading.start(),e.next=3,t.$store.dispatch("videoes/postVideo");case 3:t.track=e.sent,t.$nuxt.$loading.finish(),t.readToVideo=!0,t.$store.dispatch("videoes/getFiles");case 7:case"end":return e.stop()}}),e)})))),console.log("Upload Success"),o.next=23;break;case 21:return console.log("Upload Error"),o.abrupt("return");case 23:o.next=28;break;case 25:o.prev=25,o.t0=o.catch(2),console.log(o.t0);case 28:o.next=31;break;case 30:console.log("e is null");case 31:case"end":return o.stop()}}),o,null,[[2,25]])})))()},onEmptyFile:function(){this.$refs.fileupload.internalValue=null,this.readToVideo=!this.readToVideo,this.track=""},onClearFile:function(){this.$store.dispatch("videoes/deleteFile"),this.$store.commit("videoes/setFileURL",""),this.$refs.fileupload.internalValue=null,this.readToVideo=!1}}}),h=f,m=(o(595),o(18)),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"rtvideobox",staticClass:"video__box"},[o("div",[o(d.a,{ref:"fileupload",attrs:{label:"업로드 영상"},on:{change:function(t){return e.onChange(t)}}})],1),e._v(" "),o("div",{staticClass:"video__player"},[o(c.a,{staticClass:"video__player__grid",attrs:{"no-gutters":""}},[o(n.a,{staticClass:"video__player__box",attrs:{cols:"8"}},[0!=this.readToVideo?o("div",{staticClass:"video"},[o("video-component",{attrs:{url:this.fileURL}})],1):o("div",[e._v("\n                    비어있음\n                ")])]),e._v(" "),o(n.a,{staticClass:"video__player__meta"},[o(r.a,{attrs:{color:"warning",elevation:"0",block:"",disabled:!this.readToVideo},on:{click:e.onEmptyFile}},[o(l.a,[e._v("\n                        mdi-trash-can\n                    ")]),e._v("\n                    영상 비우기\n                ")],1),e._v(" "),o(r.a,{attrs:{color:"error",elevation:"0",block:"",disabled:!this.readToVideo},on:{click:e.onClearFile}},[o(l.a,[e._v("\n                        mdi-close\n                    ")]),e._v("\n                    영상 삭제\n                ")],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"video__translator"},[o("div",{staticClass:"video__translator__title"},[o("h1",[e._v("자막")]),e._v(" "),o(v.a)],1),e._v(" "),o("div",{staticClass:"video__translator__content",domProps:{innerHTML:e._s(this.track)}})])])}),[],!1,null,"0590737a",null);t.default=component.exports}}]);