{"version":3,"file":"pages/video/service.js","sources":["webpack:///./pages/video/service.vue?1fa9","webpack:///./pages/video/service.vue?6789","webpack:///./pages/video/service.vue?81b0","webpack:///./pages/video/service.vue?c616","webpack:///./pages/video/service.vue","webpack:///./pages/video/service.vue?e03b","webpack:///./pages/video/service.vue?de0a"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./service.vue?vue&type=style&index=0&id=0102d3e8&scoped=true&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"5526adb1\", content, true, context)\n};","export * from \"-!../../node_modules/vuetify-loader/lib/loader.js??ref--4!../../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./service.vue?vue&type=style&index=0&id=0102d3e8&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".wrapper[data-v-0102d3e8]{width:100%;height:100%}.video__box[data-v-0102d3e8]{position:absolute;background:#000;width:50%;height:100%}.video__wrapper[data-v-0102d3e8]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;border-top:50px dashed grey;border-bottom:50px dashed grey}.video__player[data-v-0102d3e8]{width:100%}.setting__box[data-v-0102d3e8]{position:absolute;background:#8c867a;left:50%;width:50%;height:100%}.track__box[data-v-0102d3e8]{overflow-y:auto;position:absolute;background:#fff;border-radius:25px;margin:15px;padding:25px;width:calc(100% - 30px);height:calc(75% - 30px);font-family:\\\"MinSans-Medium\\\",sans-serif!important;white-space:pre-wrap}.track__box[data-v-0102d3e8]::-webkit-scrollbar{display:block;width:10px;height:8px}.track__box[data-v-0102d3e8]::-webkit-scrollbar-thumb{border-radius:5px;background:#2172ff}.track__box[data-v-0102d3e8]::-webkit-scrollbar-track{background-color:transparent;margin:15px 0}.setting__box__bottom[data-v-0102d3e8]{position:absolute;top:75%;width:100%;height:25%}.control__box[data-v-0102d3e8]{position:absolute;display:flex;flex-direction:column;justify-content:space-between;background:#fff;border-radius:15px;margin:0 0 15px 15px;padding:25px;width:calc(30% - 30px);height:calc(100% - 15px)}.control__btn[data-v-0102d3e8]{flex:unset!important}.filelist__box[data-v-0102d3e8]{position:absolute;background:#fff;border-radius:15px;margin:0 15px 15px 0;padding:25px;width:calc(70% - 15px);height:calc(100% - 15px);left:30%}.dialog__box[data-v-0102d3e8]{flex-direction:column;text-align:center;height:50vh;padding:25px}.dialog__box[data-v-0102d3e8],.dialog__box__setting[data-v-0102d3e8]{display:flex;align-items:center;justify-content:center;width:100%}.dialog__box__setting[data-v-0102d3e8]{height:90%}.setting__select__box[data-v-0102d3e8]{flex-direction:column;align-items:center;width:50%;height:100%}.select__box[data-v-0102d3e8],.setting__select__box[data-v-0102d3e8]{display:flex;justify-content:space-around}.select__box[data-v-0102d3e8]{width:100%;height:90%;padding:25px}.img[data-v-0102d3e8]{flex:0 0 auto}.dialog__box__process[data-v-0102d3e8]{flex-direction:column;width:50%;height:100%}.dialog__box__loading[data-v-0102d3e8],.dialog__box__process[data-v-0102d3e8]{display:flex;align-items:center;justify-content:center}.dialog__box__loading[data-v-0102d3e8]{width:100%;height:10%}.header__class[data-v-0102d3e8]{border-bottom:3px solid green}.list__wrapper[data-v-0102d3e8]{width:100%;height:80%}.list__select[data-v-0102d3e8]{border:solid #013183!important;color:#013183!important}.action__box[data-v-0102d3e8]{justify-content:space-around;height:10%;padding:25px}.action__box[data-v-0102d3e8],.process__stepper[data-v-0102d3e8]{display:flex;align-items:center;width:100%}.process__stepper[data-v-0102d3e8]{flex-direction:column;justify-content:center;height:100%}.stepper[data-v-0102d3e8]{width:50%;padding:5%}.stepper__btn[data-v-0102d3e8]{border:3px solid #013183}.arrow__wrapper[data-v-0102d3e8]{display:flex;width:100%;height:100%;flex-direction:column;align-items:center;justify-content:center}.arrow[data-v-0102d3e8]{color:#2172ff;-webkit-animation:arrowAnimation-data-v-0102d3e8 1.5s ease infinite;animation:arrowAnimation-data-v-0102d3e8 1.5s ease infinite;-webkit-animation-fill-mode:both;animation-fill-mode:both}.arrow[data-v-0102d3e8]:first-child{-webkit-animation-delay:.75s;animation-delay:.75s}.arrow[data-v-0102d3e8]:nth-child(2){-webkit-animation-delay:1s;animation-delay:1s}.arrow[data-v-0102d3e8]:nth-child(3){-webkit-animation-delay:1.25s;animation-delay:1.25s}.hr-sect[data-v-0102d3e8]{display:flex;align-items:center;color:rgba(0,0,0,.35);font-size:12px;width:100%;height:5%}.hr-sect[data-v-0102d3e8]:after,.hr-sect[data-v-0102d3e8]:before{content:\\\"\\\";flex-grow:1;background:rgba(0,0,0,.35);height:1px;font-size:0;line-height:0;margin:0 16px}@-webkit-keyframes arrowAnimation-data-v-0102d3e8{0%{color:#fff}to{color:#2172ff}}@keyframes arrowAnimation-data-v-0102d3e8{0%{color:#fff}to{color:#2172ff}}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\n\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_vm._ssrNode(\"<div class=\\\"video__box\\\" data-v-0102d3e8>\",\"</div>\",[_vm._ssrNode(\"<input type=\\\"file\\\" accept=\\\".mp4\\\"\"+(_vm._ssrStyle(null,null, { display: (false) ? '' : 'none' }))+\" data-v-0102d3e8> \"),(_vm.readToVideo === true)?_vm._ssrNode(\"<div class=\\\"video__wrapper\\\" data-v-0102d3e8>\",\"</div>\",[_vm._ssrNode(\"<video\"+(_vm._ssrAttr(\"src\",_vm.videoURL))+\" controls=\\\"controls\\\" preload=\\\"auto\\\" crossorigin=\\\"anonymous\\\" class=\\\"video__player\\\" data-v-0102d3e8></video>\")],2):_vm._ssrNode(\"<div class=\\\"video__wrapper\\\" data-v-0102d3e8>\",\"</div>\",[_c(VDialog,{attrs:{\"width\":\"60vw\",\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c(VBtn,_vm._b({attrs:{\"rounded\":\"\"},on:{\"click\":_vm.uploadVideo}},'v-btn',attrs,false),[_c(VIcon,[_vm._v(\"\\n                            mdi-plus\\n                        \")]),_vm._v(\"\\n                        새로 만들기\\n                    \")],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_vm._v(\" \"),_c(VCard,[_c('div',{staticClass:\"dialog__box\"},[_c('div',{staticClass:\"dialog__box__setting\"},[_c('div',{staticClass:\"setting__select__box\",on:{\"click\":function($event){_vm.dialog = !_vm.dialog}}},[_c(VImg,{staticClass:\"img\",attrs:{\"src\":\"https://dmtlabs-files.s3.ap-northeast-2.amazonaws.com/images/logo.png\"}})],1),_vm._v(\" \"),(_vm.beforeSelect)?_c('div',{staticClass:\"setting__select__box\"},[_c('div',{staticClass:\"select__box\"},[_c('div',[_c(VToolbar,{staticClass:\"header__class\",attrs:{\"elevation\":\"0\"}},[_c(VToolbarTitle,{staticClass:\"font-weight-bold\"},[_vm._v(\"\\n                                                영상의 원본 언어\\n                                            \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"overflow-y-auto list__wrapper\"},[_c(VList,[_c(VListItemGroup,{attrs:{\"mandatory\":\"\"},model:{value:(_vm.req),callback:function ($$v) {_vm.req=$$v},expression:\"req\"}},_vm._l((_vm.languages),function(item,index){return _c(VListItem,{key:index,attrs:{\"active-class\":\"list__select\"}},[_c(VListItemTitle,[_vm._v(\"\\n                                                            \"+_vm._s(item)+\"\\n                                                        \")])],1)}),1)],1)],1)],1),_vm._v(\" \"),_c(VIcon,[_vm._v(\"\\n                                        mdi-arrow-right\\n                                    \")]),_vm._v(\" \"),_c('div',[_c(VToolbar,{staticClass:\"header__class\",attrs:{\"elevation\":\"0\"}},[_c(VToolbarTitle,{staticClass:\"font-weight-bold\"},[_vm._v(\"\\n                                                번역하고 싶은 언어\\n                                            \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"overflow-y-auto list__wrapper\"},[_c(VList,[_c(VListItemGroup,{attrs:{\"mandatory\":\"\"},model:{value:(_vm.grant),callback:function ($$v) {_vm.grant=$$v},expression:\"grant\"}},_vm._l((_vm.languages),function(item,index){return _c(VListItem,{key:index,attrs:{\"active-class\":\"list__select\"}},[_c(VListItemTitle,[_vm._v(\"\\n                                                            \"+_vm._s(item)+\"\\n                                                        \")])],1)}),1)],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"action__box\"},[_c(VBtn,{attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"#013183\",\"dark\":\"\"},on:{\"click\":_vm.onTaskStart}},[_vm._v(\"\\n                                        번역하기\\n                                    \")])],1)]):_c('div',{staticClass:\"dialog__box__process\"},[_c('div',{staticClass:\"process__stepper\"},[_c('div',{staticClass:\"stepper\"},[_c(VBtn,{staticClass:\"stepper__btn\",attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"primary\",\"disabled\":_vm.step != 1}},[_vm._v(\"\\n                                            영상 업로드\\n                                        \")])],1),_vm._v(\" \"),(_vm.step === 1)?_c('transition',[_c('div',{staticClass:\"arrow__wrapper\"},[_c('div',{staticClass:\"arrow\"},[_vm._v(\"▼\")]),_vm._v(\" \"),_c('div',{staticClass:\"arrow\"},[_vm._v(\"▼\")]),_vm._v(\" \"),_c('div',{staticClass:\"arrow\"},[_vm._v(\"▼\")])])]):_c('div',{staticClass:\"arrow__wrapper\"},[_c('div',[_vm._v(\"▼\")]),_vm._v(\" \"),_c('div',[_vm._v(\"▼\")]),_vm._v(\" \"),_c('div',[_vm._v(\"▼\")])]),_vm._v(\" \"),_c('div',{staticClass:\"stepper\",attrs:{\"div\":\"\"}},[_c(VBtn,{staticClass:\"stepper__btn\",attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"warning\",\"disabled\":_vm.step != 2}},[_vm._v(\"\\n                                            영상 인식\\n                                        \")])],1),_vm._v(\" \"),(_vm.step === 2)?_c('transition',[_c('div',{staticClass:\"arrow__wrapper\"},[_c('div',{staticClass:\"arrow\"},[_vm._v(\"▼\")]),_vm._v(\" \"),_c('div',{staticClass:\"arrow\"},[_vm._v(\"▼\")]),_vm._v(\" \"),_c('div',{staticClass:\"arrow\"},[_vm._v(\"▼\")])])]):_c('div',{staticClass:\"arrow__wrapper\"},[_c('div',[_vm._v(\"▼\")]),_vm._v(\" \"),_c('div',[_vm._v(\"▼\")]),_vm._v(\" \"),_c('div',[_vm._v(\"▼\")])]),_vm._v(\" \"),_c('div',{staticClass:\"stepper\",attrs:{\"div\":\"\"}},[_c(VBtn,{staticClass:\"stepper__btn\",attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"success\",\"disabled\":_vm.step != 3}},[_vm._v(\"\\n                                            자막 번역\\n                                        \")])],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog__box__loading\"},[_c(VProgressLinear,{attrs:{\"color\":\"#013183\",\"height\":\"25px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar value = ref.value;\nreturn [_c('strong',{staticStyle:{\"color\":\"white\"}},[_vm._v(_vm._s(Math.ceil(value))+\"%\")])]}}]),model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}})],1)])])],1)],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"setting__box\\\" data-v-0102d3e8>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"track__box\\\" data-v-0102d3e8>\"+(_vm._s(_vm.track))+\"</div> \"),_vm._ssrNode(\"<div class=\\\"setting__box__bottom\\\" data-v-0102d3e8>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"control__box\\\" data-v-0102d3e8>\",\"</div>\",[_c(VBtn,{staticClass:\"control__btn\",attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"#013183\",\"dark\":\"\"}},[_vm._v(\"\\n                    원본 자막 보기\\n                \")]),_vm._ssrNode(\" \"),_c(VBtn,{staticClass:\"control__btn\",attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"#013183\",\"dark\":\"\"}},[_vm._v(\"\\n                    번역 자막 보기\\n                \")]),_vm._ssrNode(\" \"),_c(VBtn,{staticClass:\"control__btn\",attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"#013183\",\"dark\":\"\"}},[_vm._v(\"\\n                    자막 다운로드\\n                \")]),_vm._ssrNode(\" \"),_c(VBtn,{staticClass:\"control__btn\",attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"#013183\",\"dark\":\"\"}},[_vm._v(\"\\n                    영상 다운로드\\n                \")]),_vm._ssrNode(\" \"),_c(VBtn,{staticClass:\"control__btn\",attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"#013183\",\"dark\":\"\"}},[_vm._v(\"\\n                    다른 언어로 번역하기\\n                \")])],2),_vm._ssrNode(\" <div class=\\\"filelist__box\\\" data-v-0102d3e8></div>\")],2)],2),_vm._ssrNode(\" \"),_c(VDialog,{attrs:{\"width\":\"250\"},model:{value:(_vm.newVideoDialog),callback:function ($$v) {_vm.newVideoDialog=$$v},expression:\"newVideoDialog\"}},[_c(VCard,[_c(VCardTitle,[_c('h5',[_vm._v(\"정말 가져오시겠습니까?\")])]),_vm._v(\" \"),_c(VCardText,[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"수정하는 중\")]),_vm._v(\"에 가져오는 경우, \"),_c('br'),_vm._v(\"\\n                수정한 내용이 \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"모두 사라집니다.\")])]),_vm._v(\" \"),_c(VCardActions,[_c(VSpacer),_vm._v(\" \"),_c(VBtn,{attrs:{\"text\":\"\"},on:{\"click\":_vm.uploadVideo}},[_vm._v(\"예\")]),_vm._v(\" \"),_c(VBtn,{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.newVideoDialog = false}}},[_vm._v(\"아니오\")])],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    layout: 'ServiceLayout',\r\n    data() {\r\n        return {\r\n            // 다이얼로그 제어 변수\r\n            dialog: false,\r\n            newVideoDialog: false,\r\n            downloadDialog: false,\r\n            deleteFileDialog: false,\r\n            fileTab: 0,\r\n            textTab: 0,\r\n            // 컨트롤 변수\r\n            readToVideo: false,\r\n            readyToTrack: false,\r\n            loading: 0,\r\n            preSignedUrlResponse: false,\r\n            uploadResponse: false,\r\n            trackCompleteResponse: false,\r\n            step: 1,\r\n            selectVideo: false,\r\n            beforeSelect: true,\r\n            // 데이터 변수\r\n            isDev: process.env.NODE_ENV.includes('dev'),\r\n            video: {},\r\n            videoTrack: [],\r\n            selectFilename: \"\",\r\n            file: {},\r\n            deleteItem: \"\",\r\n            fullTrack: [],\r\n            timeLine: [],\r\n            originalTrack: [],\r\n            transTrack: [],\r\n            cueTrack: [],\r\n            transCueTrack: [],\r\n            track: \"\",\r\n            trans: \"\",\r\n            track: \"\",\r\n            req: 0,\r\n            grant: 2,\r\n        }\r\n    },\r\n    computed: {\r\n        language() {\r\n            return this.$store.state.manager.language;\r\n        },\r\n        languages() {\r\n            return this.$LANGUAGES_KO;\r\n        },\r\n        videoList() {\r\n            return this.$store.state.videoes.files;\r\n        },\r\n        videoURL() {\r\n            return this.$store.state.videoes.fileURL;\r\n        },\r\n        req_lang() {\r\n            return this.languages[this.req];\r\n        },\r\n        grant_lang() {\r\n            return this.languages[this.grant]\r\n        },\r\n        req_code() {\r\n            return this.$LANG_CODE[this.req];\r\n        },\r\n        grant_code() {\r\n            return this.$LANG_CODE[this.grant];\r\n        },\r\n        trackMode() {\r\n            switch(this.fileTab) {\r\n                case 1:\r\n                    return \"srt\"\r\n                    break;\r\n                case 2: \r\n                    return \"vtt\"\r\n                    break;\r\n                case 0:\r\n                default:\r\n                    return \"NotFoundMode\";\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n        fileTab(value) {\r\n            if (value === 1) {\r\n                this.$refs.tab_1.style.border = \"0\";\r\n                this.$refs.tab_1.style.backgroundColor = \"#2172FF\";\r\n                this.$refs.tab_1.style.opacity = \"1\";\r\n                this.$refs.tab_2.style.border = \"3px dashed grey\";\r\n                this.$refs.tab_2.style.backgroundColor = \"#FFFFFF\";\r\n                this.$refs.tab_2.style.opacity = \"0.6\";\r\n            } else if (value === 2) {\r\n                this.$refs.tab_1.style.border = \"3px dashed grey\";\r\n                this.$refs.tab_1.style.backgroundColor = \"#FFFFFF\";\r\n                this.$refs.tab_1.style.opacity = \"0.6\";\r\n                this.$refs.tab_2.style.border = \"0\";\r\n                this.$refs.tab_2.style.backgroundColor = \"#2172FF\";\r\n                this.$refs.tab_2.style.opacity = \"1\";\r\n            } else {\r\n                this.$refs.tab_1.style.border = \"3px dashed grey\";\r\n                this.$refs.tab_1.style.backgroundColor = \"#FFFFFF\";\r\n                this.$refs.tab_1.style.opacity = \"0.6\";\r\n                this.$refs.tab_2.style.border = \"3px dashed grey\";\r\n                this.$refs.tab_2.style.backgroundColor = \"#FFFFFF\";\r\n                this.$refs.tab_2.style.opacity = \"0.6\";\r\n            }\r\n        },\r\n        textTab(value) {\r\n            if (value === 1) {\r\n                this.$refs.textTab_1.style.border = \"0\";\r\n                this.$refs.textTab_1.style.backgroundColor = \"#2172FF\";\r\n                this.$refs.textTab_1.style.opacity = \"1\";\r\n                this.$refs.textTab_2.style.border = \"3px dashed grey\";\r\n                this.$refs.textTab_2.style.backgroundColor = \"#FFFFFF\";\r\n                this.$refs.textTab_2.style.opacity = \"0.6\";\r\n            } else if (value === 2) {\r\n                this.$refs.textTab_1.style.border = \"3px dashed grey\";\r\n                this.$refs.textTab_1.style.backgroundColor = \"#FFFFFF\";\r\n                this.$refs.textTab_1.style.opacity = \"0.6\";\r\n                this.$refs.textTab_2.style.border = \"0\";\r\n                this.$refs.textTab_2.style.backgroundColor = \"#2172FF\";\r\n                this.$refs.textTab_2.style.opacity = \"1\";\r\n            } else {\r\n                this.$refs.textTab_1.style.border = \"3px dashed grey\";\r\n                this.$refs.textTab_1.style.backgroundColor = \"#FFFFFF\";\r\n                this.$refs.textTab_1.style.opacity = \"0.6\";\r\n                this.$refs.textTab_2.style.border = \"3px dashed grey\";\r\n                this.$refs.textTab_2.style.backgroundColor = \"#FFFFFF\";\r\n                this.$refs.textTab_2.style.opacity = \"0.6\";\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        loadingLogic(step) {\r\n            switch(step) {\r\n                case 1:\r\n                    // 영상 Presigned URL 발급\r\n                    let firstStep = setInterval(() => {\r\n                        if (!this.preSignedUrlResponse) {\r\n                            if (this.loading < 15) this.loading++;\r\n                        } else {\r\n                            if (this.loading < 16) this.loading = 16;\r\n                            clearInterval(firstStep);\r\n                        }\r\n                    }, 1500);\r\n                    break;\r\n                case 2:\r\n                    // 영상 업로드\r\n                    let secondStep = setInterval(() => {\r\n                        if (!this.uploadResponse) {\r\n                            if (this.loading < 32) this.loading++;\r\n                        } else {\r\n                            if (this.loading < 33) this.loading = 33;\r\n                            this.step = 2;\r\n                            clearInterval(secondStep);\r\n                        }\r\n                    }, 1500);\r\n                    break;\r\n                case 3:\r\n                    // 영상 인식\r\n                    let thirdStep = setInterval(() => {\r\n                        if (!this.trackCompleteResponse) {\r\n                            if (this.loading < 65) this.loading++;\r\n                        } else {\r\n                            if (this.loading < 66) this.loading = 66;\r\n                            this.step = 3;\r\n                            clearInterval(thirdStep);\r\n                        }\r\n                    }, 2500);\r\n                    break;\r\n                case 4:\r\n                    // 자막 번역\r\n                    let fourthStep = setInterval(() => {\r\n                        if (this.transTrack.length === 0) {\r\n                            if (this.loading < 99) this.loading++;\r\n                        } else {\r\n                            if (this.loading < 100) this.loading = 100;\r\n                            this.dialog = false;\r\n                            clearInterval(fourthStep);\r\n                            this.loading = 0;\r\n                        }\r\n                    }, 2000);\r\n                    break;\r\n                default:\r\n                    // 종료 트리거를 받는다면\r\n                    console.log(\"step 종료\");\r\n            }\r\n        },\r\n        extToContentType(ext) {\r\n            switch(ext) {\r\n                case 'mp4':\r\n                    return 'video/mp4';\r\n                case 'webm':\r\n                    return 'video/webm';\r\n                case 'ogg':\r\n                case 'ogv':\r\n                case 'ogm':\r\n                    return 'video/ogg';\r\n                default:\r\n                    return 'application/oct-stream';\r\n            }\r\n        },\r\n        trackMerge() {\r\n            let result = [];\r\n            for (let i = 0; i < Math.max(this.timeLine.length, this.originalTrack.length); i++) {\r\n                result[i] = { ...this.timeLine[i], ...{ text : this.originalTrack[i] } };\r\n            }\r\n            this.fullTrack = result;\r\n        },\r\n        trackFormating(mode, track) {\r\n            if (mode === 'srt') {\r\n                let result = \"\";\r\n\r\n                for (let i = 0; i < Math.min(this.timeLine.length, track.length); i++) {\r\n                    result += `${i+1}\\n${(this.timeLine[i].start).replace(\".\", \",\")} --> ${(this.timeLine[i].end).replace(\".\", \",\")}\\n${track[i]}\\n\\n`;\r\n                }\r\n\r\n                return result;\r\n            } else {\r\n                let result = \"WEBVTT\\n\\n\";\r\n\r\n                for (let i = 0; i < Math.min(this.timeLine.length, track.length); i++) {\r\n                    result += `${this.timeLine[i].start} --> ${this.timeLine[i].end}\\n${track[i]}\\n\\n`;\r\n                }\r\n\r\n                return result;\r\n            }\r\n        },\r\n        async trackOn(lang) {\r\n            await this.$nextTick();\r\n            this.video = this.$refs.videoplayer;\r\n            this.cueTrack = this.video.addTextTrack(\"subtitles\", this.req_lang, this.req_code);\r\n            this.transCueTrack = this.video.addTextTrack(\"subtitles\", this.grant_lang, this.grant_code);\r\n            this.cueTrack.mode = \"showing\";\r\n            this.transCueTrack.mode = \"showing\";\r\n            for (let i = 0; i < this.fullTrack.length; i++)\r\n                this.cueTrack.addCue(new VTTCue(this.timeToSec(this.timeLine[i].start), this.timeToSec(this.timeLine[i].end), this.originalTrack[i]));\r\n            for (let i = 0; i < this.fullTrack.length; i++)\r\n                this.transCueTrack.addCue(new VTTCue(this.timeToSec(this.timeLine[i].start), this.timeToSec(this.timeLine[i].end), this.transTrack[i]));\r\n            // console.log(this.cueTrack.cues);\r\n        },\r\n        async onChange(event) {\r\n            try {\r\n                if (event != null && event.target.files.length != 0) {\r\n                    this.newVideo();\r\n                    this.file = event.target.files[0];\r\n                    this.dialog = true;\r\n                } else {\r\n                    console.log(\"e is null\");\r\n                }\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        },\r\n        uploadVideo() {\r\n            if (!this.selectVideo) {\r\n                this.newVideoDialog = false;\r\n                this.$refs.upload.click();\r\n            } else {\r\n                this.$refs.upload.click();\r\n            }\r\n        },\r\n        async onTaskStart() {\r\n            this.beforeSelect = false;\r\n            this.originalTrack = \"\";\r\n            this.transTrack = \"\";\r\n            // 파일 전처리\r\n            // 파일 업로드인 경우\r\n            if (!this.selectVideo) {\r\n                const filename = this.file.name;\r\n                const fileFormData = new FormData();\r\n                const name = filename.substring(0, filename.lastIndexOf('.'));\r\n                const ext = filename.substring(filename.lastIndexOf('.') + 1);\r\n                this.$store.commit('videoes/setFileName', name);\r\n                this.$store.commit('videoes/setFileExt', ext);\r\n                fileFormData.append('fileKey', this.file);\r\n                try {\r\n                    // Signed URL 발급 : loading = 16\r\n                    this.loadingLogic(1);\r\n                    //console.time('SignedURL Time');\r\n                    const preSignedUrl = await this.$store.dispatch('videoes/signedURL', fileFormData);\r\n                    this.preSignedUrlResponse = true;\r\n                    //console.timeEnd('SignedURL Time');\r\n\r\n                    // Signed URL을 통한 업로드 : loading = 16\r\n                    this.loadingLogic(2);\r\n                    //console.time('Upload Time');\r\n                    const upload = await axios.put(preSignedUrl, this.file, {\r\n                        headers: {\r\n                            'Content-Type': this.extToContentType(ext),\r\n                        }\r\n                    });\r\n                    //console.timeEnd('Upload Time');\r\n                    \r\n\r\n                    // 영상 인식 : loading = 33\r\n                    if (upload.status === 200) {\r\n                        this.loadingLogic(3);\r\n                        this.uploadResponse = true;\r\n                        await this.$store.commit('videoes/setFile', undefined);\r\n                        await this.$store.dispatch('videoes/setURL')\r\n                        //console.time(\"Recognition Time\");\r\n                        const trackResponse = await this.$store.dispatch('videoes/postVideo');\r\n                        this.trackCompleteResponse = true;\r\n                        //console.timeEnd(\"Recognition Time\");\r\n                        this.track = trackResponse.track;\r\n                        this.originalTrack = trackResponse.segment;\r\n                        this.timeLine = trackResponse.timeline;\r\n                        //console.log(\"Merge\");\r\n                        this.trackMerge();\r\n                        this.$store.dispatch('videoes/getFiles');\r\n\r\n                        // 자막 번역 : loading = 33\r\n                        this.loadingLogic(4);\r\n                        //console.time(\"Translate Time\");\r\n                        this.transTrack = await this.$store.dispatch('videoes/transTrack', {\r\n                            \"from\": this.req_code,\r\n                            \"to\": this.grant_code,\r\n                            \"track\": this.fullTrack\r\n                        });\r\n                        this.trans = this.trackFormating('vtt', this.transTrack);\r\n                        //console.timeEnd(\"Translate Time\");\r\n                        // this.$nuxt.$emit('transTracks', this.grant_lang);\r\n                        // this.$manage.showMessage({ message: \"자막 업데이트\", color: \"success\" });\r\n\r\n                        this.readToVideo = true;\r\n                        this.readyToTrack = true;\r\n\r\n                        // 여기엔 영상에 자막을 ON 시키는 메소드\r\n                        this.trackOn(this.req_lang);\r\n                        this.selectFilename = this.$store.state.videoes.fileName;\r\n                        this.dialog = false;\r\n                    } else {\r\n                        this.$menage.showMessage({ \r\n                            message: \"영상 업로드에 실패했습니다.\\n관리자에게 문의하세요.\", \r\n                            color: \"error\" \r\n                        });\r\n                    }\r\n                } catch(err) {\r\n                    console.log(err);\r\n                }\r\n            } else {    // 파일 선택의 경우\r\n                try {\r\n                    // 영상 인식 : loading = 33\r\n                    this.loading = 33;\r\n                    this.loadingLogic(3);\r\n                    this.uploadResponse = true;\r\n                    await this.$store.dispatch('videoes/setURL');\r\n                    const trackResponse = await this.$store.dispatch('videoes/postVideo');\r\n                    this.trackCompleteResponse = true;\r\n                    this.track = trackResponse.track;\r\n                    this.originalTrack = trackResponse.segment;\r\n                    this.timeLine = trackResponse.timeline;\r\n                    this.trackMerge();\r\n\r\n                    // 자막 번역 : loading = 33\r\n                    this.loadingLogic(4);\r\n                    this.transTrack = await this.$store.dispatch('videoes/transTrack', {\r\n                        \"from\": this.req_code,\r\n                        \"to\": this.grant_code,\r\n                        \"track\": this.fullTrack\r\n                    });\r\n\r\n                    this.readToVideo = true;\r\n                    this.readyToTrack = true;\r\n\r\n                    this.trackOn(this.req_lang);\r\n                    this.dialog = false;\r\n                    this.selectVideo = false;\r\n                } catch(err) {\r\n                    console.log(err);\r\n                }\r\n            }\r\n        },\r\n        newVideo() {\r\n            this.newVideoDialog = false;\r\n            this.readToVideo = false;\r\n            this.readyToTrack = false;\r\n            this.file = {};\r\n            this.fullTrack = [];\r\n            this.timeLine = [];\r\n            this.originalTrack = [];\r\n            this.transTrack = [];\r\n            this.track = \"\";\r\n            this.trans = \"\";\r\n            this.loading = 0;\r\n            this.dialog = false;\r\n            this.beforeSelect = true;\r\n            this.step = 1;\r\n            this.preSignedUrlResponse = false;\r\n            this.uploadResponse = false;\r\n            this.trackCompleteResponse = false;\r\n        },\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/vuetify-loader/lib/loader.js??ref--4!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./service.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vuetify-loader/lib/loader.js??ref--4!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./service.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./service.vue?vue&type=template&id=0102d3e8&scoped=true&\"\nimport script from \"./service.vue?vue&type=script&lang=js&\"\nexport * from \"./service.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./service.vue?vue&type=style&index=0&id=0102d3e8&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"0102d3e8\",\n  \"8974972c\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC0XA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;AAqCA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AATA;AAWA;AACA;AAtCA;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAnDA;AAqDA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAVA;AAYA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AADA;AAQA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArQA;AAlIA;;ACnZA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}